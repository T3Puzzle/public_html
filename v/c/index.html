<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=600, user-scalable=no">
    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/destyle.css@1.0.15/destyle.css"
/>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  </head>
  <body style="margin: 0px; padding: 0px; width: 100%; height: 100%;user-select: none;touch-action: none;-webkit-user-select: none;">
<script src="https://cdn.jsdelivr.net/npm/paper@0.12.17/dist/paper-full.min.js"></script>
 <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/destyle.css@1.0.15/destyle.css"
/>  
 <link
  rel="stylesheet"
  href="./colors.css"
/>
<script src="https://cdn.jsdelivr.net/npm/paper@0.12.17/dist/paper-full.min.js"></script>


<!--- copy from here --->
<style>
  .c_draw {
    width: 100%;
    height: 100%;
  }

  .c_painter {
    transform: rotate(30deg);
    text-shadow: 1px 3px 10px #ff9900;
  }

  .c_eraser {
    transform: rotate(30deg);
    text-shadow: 1px 3px 10px #ff9900;
  }

  .c_paver {
    transform: rotate(15deg);
    text-shadow: 1px 3px 10px #ff9900;
  }

  .c_picker {
    transform: rotate(15deg);
    text-shadow: 1px 3px 10px #ff9900;
  }

  .c_emoji {
    border: none;
    margin: none;
    padding-right: 15px;
    padding-left: 15px;
    padding-top: 0vw;
    padding-botton: 0vw;
    background: none;
    user-select: none;
    touch-action: none;
    -webkit-user-select: none;
    font-size: 60px;
  }
  
  .c_full {
    position: absolute;
    left: 0px;
    top: 0px
  }
</style>
<canvas id="h_canvas" class="c_draw c_full" style="z-index:0;">
</canvas>
<div class="c_full" style="margin-top:15px;margin-left:15px;z-index:200;background-color:white;">

  <button id="h_color" class="c_emoji c_blue" onclick="switchColor(this);">‚ñ≤</button>
  <button id="h_painter" class="c_emoji c_painter" onClick="
        
 h_eraser.classList.remove('c_eraser');
 h_paver.classList.remove('c_paver');  
 h_picker.classList.remove('c_picker');                                                            
                                                          this.classList.add('c_painter');">üñåÔ∏è</button>
  <button id="h_eraser" class="c_emoji" onClick="
 
 h_painter.classList.remove('c_painter'); 
 h_paver.classList.remove('c_paver');  
 h_picker.classList.remove('c_picker');                                                            
                                                          this.classList.toggle('c_eraser');">üßΩ</button>

  <button id="h_paver" class="c_emoji" onclick="

 h_painter.classList.remove('c_painter');                                                 
 h_eraser.classList.remove('c_eraser');
 h_picker.classList.remove('c_picker');  
                                                this.classList.toggle('c_paver');">‚¨£</button>

  <button id="h_picker" class="c_emoji" onclick="

 h_painter.classList.remove('c_painter');                                             
 h_eraser.classList.remove('c_eraser'); 
 h_paver.classList.remove('c_paver');  
                                                this.classList.toggle('c_picker');">‚éî</button>

  <button id="h_rotate" class="c_emoji" onClick="this.callback();">‚Üª</button>
  <button id="h_view" class="c_emoji" onClick="this.callback();">‚åñ</button>

  <script>
    if (('ontouchstart' in window)) {
      h_rotate.style.display = 'none';
    }

    function switchColor(color) {
      const mode = getMode();
      if (mode !== 'Painter') {
        h_eraser.classList.remove('c_eraser');
        h_paver.classList.remove('c_paver');
        h_picker.classList.remove('c_picker');
        h_painter.classList.add('c_painter');
      } else {
        if (checkCSS(color, 'c_blue')) {
          setColorCSS(color, 'c_green');
        } else if (checkCSS(color, 'c_green')) {
          setColorCSS(color, 'c_pink');
        } else if (checkCSS(color, 'c_pink')) {
          setColorCSS(color, 'c_mint');
        } else if (checkCSS(color, 'c_mint')) {
          setColorCSS(color, 'c_blue');
        }
      }
    }

    function getMode() {
      if (h_eraser.className.split(" ").indexOf("c_eraser") > -1) {
        return "Eraser";
      } else if (h_paver.className.split(" ").indexOf("c_paver") > -1) {
        return "Paver";
      } else if (h_picker.className.split(" ").indexOf("c_picker") > -1) {
        return "Picker";
      } else {
        return "Painter";
      }
    }

    function setColorCSS(element, add) {
      element.classList.remove('c_blue');
      element.classList.remove('c_green');
      element.classList.remove('c_pink');
      element.classList.remove('c_mint');
      element.classList.add(add);
    }

    function checkCSS(element, css) {
      return (element.className.split(' ').indexOf(css) !== -1);
    }
  </script>
</div>
<br />
<p id="h_warn" style="position:absolute;z-index:300;"></p>

<!-- copy end here --->
<script type="module" src="./drawt3.js?x"></script>
</body>
</html>
