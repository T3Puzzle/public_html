<!DOCTYPE html>
<html>
<head>
    <title>SVG Manipulation with Multitouch</title>
    <style>
        #mySVG {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <svg id="mySVG" width="200" height="200">
        <rect id="myRect" x="50" y="50" width="100" height="100" fill="blue" />
    </svg>

    <script>
        var svg = document.getElementById('mySVG');
        var rect = document.getElementById('myRect');

        var initialDistance = 0;
        var initialAngle = 0;
        var initialScale = 1;

        svg.addEventListener('touchstart', function(event) {
            if (event.touches.length == 2) {
                var dx = event.touches[1].pageX - event.touches[0].pageX;
                var dy = event.touches[1].pageY - event.touches[0].pageY;
                initialDistance = Math.sqrt(dx * dx + dy * dy);
                initialAngle = Math.atan2(dy, dx);
            }
        });

        svg.addEventListener('touchmove', function(event) {
            if (event.touches.length == 2) {
                var xCenter = (event.touches[0].pageX + event.touches[1].pageX) / 2;
                var yCenter = (event.touches[0].pageY + event.touches[1].pageY) / 2;

                var dx = event.touches[1].pageX - event.touches[0].pageX;
                var dy = event.touches[1].pageY - event.touches[0].pageY;
                var distance = Math.sqrt(dx * dx + dy * dy);
                var angle = Math.atan2(dy, dx);

                var scale = distance / initialDistance;
                var rotate = (angle - initialAngle) * 180 / Math.PI;

                rect.setAttribute('transform', 'translate(' + xCenter + ' ' + yCenter + ') scale(' + scale + ') rotate(' + rotate + ')');
            }
        });

        svg.addEventListener('touchend', function(event) {
            if (event.touches.length == 1) {
                initialDistance = 0;
                initialAngle = 0;
            }
        });
    </script>
</body>
</html>
