!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tapspace=e():t.tapspace=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=24)}([function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},u=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,n=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!o)return!1;for(e in t);return void 0===e||r.call(t,e)},h=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(s)return s(t,e).value}return t[e]};t.exports=function t(){var e,n,r,i,o,s,c=arguments[0],f=1,d=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},f=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});f<d;++f)if(null!=(e=arguments[f]))for(n in e)r=l(c,n),c!==(i=l(e,n))&&(p&&i&&(u(i)||(o=a(i)))?(o?(o=!1,s=r&&a(r)?r:[]):s=r&&u(r)?r:{},h(c,{name:n,newValue:t(p,s,i)})):void 0!==i&&h(c,{name:n,newValue:i}));return c}},function(t,e){var n=function(t,e,n,r){this.s=t,this.r=e,this.tx=n,this.ty=r};n.EPSILON=1e-10;var r=n.prototype;r.almostEquals=r.almostEqual=function(t,e){return"number"!=typeof e&&(e=n.EPSILON),Math.abs(this.s-t.s)+Math.abs(this.r-t.r)+Math.abs(this.tx-t.tx)+Math.abs(this.ty-t.ty)<=e},r.equal=r.equals=function(t){return this.s===t.s&&this.r===t.r&&this.tx===t.tx&&this.ty===t.ty},r.getMatrix=function(){return{a:this.s,b:this.r,c:-this.r,d:this.s,e:this.tx,f:this.ty}},r.getRotation=function(){return Math.atan2(this.r,this.s)},r.getScale=function(){return Math.sqrt(this.r*this.r+this.s*this.s)},r.getTranslation=function(){return[this.tx,this.ty]},r.toArray=function(){return[this.s,this.r,this.tx,this.ty]},r.transform=function(t){if("number"==typeof t[0])return[this.s*t[0]-this.r*t[1]+this.tx,this.r*t[0]+this.s*t[1]+this.ty];var e,n=[];for(e=0;e<t.length;e+=1)n.push([this.s*t[e][0]-this.r*t[e][1]+this.tx,this.r*t[e][0]+this.s*t[e][1]+this.ty]);return n},r.inverse=function(){var t=this.s*this.s+this.r*this.r;if(Math.abs(t)<n.EPSILON)throw new Error("Singular transformations cannot be inversed.");var e=this.s/t,r=-this.r/t,i=(-this.s*this.tx-this.r*this.ty)/t,o=(this.r*this.tx-this.s*this.ty)/t;return new n(e,r,i,o)},r.translateBy=function(t,e){return new n(this.s,this.r,this.tx+t,this.ty+e)},r.scaleBy=function(t,e){var r,i,o;return r=t,void 0===e?i=o=0:(i=e[0],o=e[1]),new n(r*this.s,r*this.r,r*this.tx+(1-r)*i,r*this.ty+(1-r)*o)},r.rotateBy=function(t,e){var r,i,o,s,a,u,h,l;return r=Math.cos(t),i=Math.sin(t),void 0===e?o=s=0:(o=e[0],s=e[1]),a=this.s*r-this.r*i,u=this.s*i+this.r*r,h=(this.tx-o)*r-(this.ty-s)*i+o,l=(this.tx-o)*i+(this.ty-s)*r+s,new n(a,u,h,l)},r.multiplyRight=r.multiplyBy=function(t){var e=t,r=this.s*e.s-this.r*e.r,i=this.s*e.r+this.r*e.s,o=this.s*e.tx-this.r*e.ty+this.tx,s=this.r*e.tx+this.s*e.ty+this.ty;return new n(r,i,o,s)},n.IDENTITY=new n(1,0,0,0),n.R90=new n(0,1,0,0),n.R180=new n(-1,0,0,0),n.R270=new n(0,-1,0,0),n.X2=new n(2,0,0,0),t.exports=n},function(t,e,n){var r=n(4),i=function(t,e){if(void 0===e)throw new Error("Missing (x, y) parameters");this.x=t,this.y=e};i.createFromPolar=function(t,e){return new i(t*Math.cos(e),t*Math.sin(e))},i.mean=function(t){var e,n=t.length,r=0,o=0;if(n>0){for(e=0;e<n;e+=1)r+=t[e].x,o+=t[e].y;return new i(r/n,o/n)}throw new Error("Cannot compute mean for an empty list of vectors.")};var o=i.prototype;o.add=function(t){return new i(this.x+t.x,this.y+t.y)},o.almostEqual=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)<r},o.changeBasis=function(t,e){var n=t.y*e.x-t.x*e.y;if(Math.abs(n)<r)throw new Error("Basis vectors must be linearly independent.");return new i((this.y*e.x-this.x*e.y)/n,(this.x*t.y-this.y*t.x)/n)},o.changeFromBasis=function(t,e){var n=t.y*e.x-t.x*e.y;if(Math.abs(n)<r)throw new Error("Basis vectors must be linearly independent.");return new i(this.x*t.x+this.y*e.x,this.x*t.y+this.y*e.y)},o.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},o.equal=o.equals=function(t){return this.x===t.x&&this.y===t.y},o.getRotation=function(){return Math.atan2(this.y,this.x)},o.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.isIndependent=function(t){return this.x*t.y-this.y*t.x!=0},o.opposite=function(){return new i(-this.x,-this.y)},o.max=function(t){var e=Math.max(this.x,t.x),n=Math.max(this.y,t.y);return new i(e,n)},o.min=function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y);return new i(e,n)},o.multiply=function(t){return new i(this.x*t,this.y*t)},o.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.translate=o.offset=function(t,e){return new i(this.x+t,this.y+e)},o.polarOffset=function(t,e){var n=this.x+t*Math.cos(e),r=this.y+t*Math.sin(e);return new i(n,r)},o.rotate=function(t,e){void 0===e&&(e={x:0,y:0});var n=this.x-e.x,r=this.y-e.y,o=n*Math.cos(t)-r*Math.sin(t),s=n*Math.sin(t)+r*Math.cos(t);return n=o+e.x,r=s+e.y,new i(n,r)},o.scale=function(t,e){void 0===e&&(e={x:0,y:0});var n=this.x-e.x,r=this.y-e.y;return n*=t,r*=t,n+=e.x,r+=e.y,new i(n,r)},o.subtract=function(t){return new i(this.x-t.x,this.y-t.y)},o.toArray=function(){return[this.x,this.y]},o.transform=function(t){var e=this.x*t.s-this.y*t.r+t.tx,n=this.x*t.r+this.y*t.s+t.ty;return new i(e,n)},t.exports=i},function(t,e,n){var r=n(2),i=n(13),o=function(t,e){if(void 0===t)throw new Error("a Vector is required");this._vec=void 0===e?t:t.transform(e.getGlobalTransform())};o.mean=function(t){var e,n=t.length,i=0,s=0;if(n>0){for(e=0;e<n;e+=1)i+=t[e]._vec.x,s+=t[e]._vec.y;return new o(new r(i/n,s/n))}throw new Error("Cannot compute mean for an empty list of ivectors.")};var s=o.prototype;s.add=function(t){return new o(this._vec.add(t._vec))},s.almostEqual=function(t){return this._vec.almostEqual(t._vec)},s.distance=function(t){return new i(this._vec.distance(t._vec))},s.equal=s.equals=function(t){return this._vec.equals(t._vec)},s.multiply=function(t){return new o(this._vec.multiply(t))},s.norm=function(){return new i(this._vec.norm())},s.offset=function(t,e,n){var i,s;return i=new r(t,e),s=n?i.transform(n.getGlobalTransform()):i,new o(this._vec.add(s))},s.polarOffset=function(t,e,n){var i,s,a,u;return"number"!=typeof t&&(t=n?t.to(n):t.toSpace()),n&&(t*=(u=n.getGlobalTransform()).getScale(),e+=u.getRotation()),i=t*Math.cos(e),s=t*Math.sin(e),a=new r(i,s),new o(this._vec.add(a))},s.to=function(t){if(null===t||t.isRoot())return this._vec;var e=t.getGlobalTransform().inverse();return this._vec.transform(e)},s.toSpace=function(){return this._vec},s.transform=function(t){return new o(this._vec.transform(t.toSpace()))},t.exports=o},function(t,e,n){t.exports=n(5).EPSILON},function(t,e,n){var r=n(12);t.exports=r.Transform},function(t,e,n){var r=n(2),i=n(4),o=n(35),s=function(t){void 0===t&&(t=[]),this._seg=t,this.length=t.length},a=s.prototype;a.add=function(t){if(Object.prototype.hasOwnProperty.call(t,"_seg"))return new s(this._seg.concat(t._seg));if(Object.prototype.hasOwnProperty.call(t,"x"))return new s(this._seg.concat([t]));throw new Error("Invalid Path or Vector")},a.almostEqual=function(t){if(this._seg.length===t._seg.length){for(var e=0;e<this._seg.length;e+=1)if(!this._seg[e].almostEqual(t._seg[e]))return!1;return!0}return!1},a.atMid=function(){var t,e,n=this._seg,o=0,s=0,a=0;if(0===n.length)return null;if(1===n.length)return this._seg[0];for(t=0;t+1<n.length;t+=1)e=n[t].x*n[t+1].y-n[t+1].x*n[t].y,o+=(n[t].x+n[t+1].x)*e,s+=(n[t].y+n[t+1].y)*e,a+=e;if(e=n[t].x*n[0].y-n[0].x*n[t].y,o+=(n[t].x+n[0].x)*e,s+=(n[t].y+n[0].y)*e,a+=e,Math.abs(a)<i){for(o=0,s=0,t=0;t<n.length;t+=1)o+=n[t].x,s+=n[t].y;return new r(o/n.length,s/n.length)}return new r(o*=1/(6*(a*=.5)),s*=1/(6*a))},a.bottom=function(){var t,e;if(0===this._seg.length)return null;for(t=this._seg[0],e=1;e<this._seg.length;e+=1)this._seg[e].y>t.y&&(t=this._seg[e]);return t},a.equal=a.equals=function(t){if(this._seg.length===t._seg.length){for(var e=0;e<this._seg.length;e+=1)if(!this._seg[e].equals(t._seg[e]))return!1;return!0}return!1},a.first=function(){return this._seg.length>0?this._seg[0]:null},a.get=function(t){return this._seg[t]},a.getBounds=function(){var t,e,n,i,o,a;if(0===this._seg.length)return null;for(t=(a=this._seg[0]).x,e=a.y,n=a.x,i=a.y,o=1;o<this._seg.length;o+=1)a=this._seg[o],t=Math.min(t,a.x),e=Math.min(e,a.y),n=Math.max(n,a.x),i=Math.max(i,a.y);return new s([new r(t,e),new r(t,i),new r(n,i),new r(n,e)])},a.getHull=function(){if(this._seg.length<1)return this;var t=o(this._seg.map((function(t){return t.toArray()}))).map((function(t){return this._seg[t]}),this);return new s(t)},a.last=function(){return this._seg.length>0?this._seg[this._seg.length-1]:null},a.left=function(){var t,e;if(0===this._seg.length)return null;for(t=this._seg[0],e=1;e<this._seg.length;e+=1)this._seg[e].x<t.x&&(t=this._seg[e]);return t},a.right=function(){var t,e;if(0===this._seg.length)return null;for(t=this._seg[0],e=1;e<this._seg.length;e+=1)this._seg[e].x>t.x&&(t=this._seg[e]);return t},a.toArray=function(){return this._seg},a.top=function(){var t,e;if(0===this._seg.length)return null;for(t=this._seg[0],e=1;e<this._seg.length;e+=1)this._seg[e].y<t.y&&(t=this._seg[e]);return t},a.transform=function(t){var e=this._seg.map((function(e){return e.transform(t)}));return new s(e)},t.exports=s},function(t,e,n){var r=n(5),i=n(12),o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s=function(t,e){return e.multiplyBy(t.multiplyBy(e.inverse()))},a=function(t,e){if(e&&!("_T"in e))throw new Error("invalid reference");if(t&&!o(t,"tx"))throw new Error("invalid transform");void 0===t&&(t=r.IDENTITY),this._tr=e?s(t,e.getGlobalTransform()):t},u=a.prototype;u.almostEqual=u.almostEquals=function(t){return this._tr.almostEqual(t._tr)},u.equal=u.equals=function(t){return this._tr.equals(t._tr)},u.inverse=function(){return new a(this._tr.inverse())},u.to=function(t){if(null===t||t.isRoot())return this._tr;var e=t.getGlobalTransform().inverse();return s(this._tr,e)},u.toSpace=function(){return this._tr},u.multiplyRight=u.multiplyBy=u.transformBy=function(t){return new a(t._tr.multiplyBy(this._tr))},u.relativeTo=function(t){return new a(this._tr.multiplyBy(t._tr.inverse()))},u.translate=function(t,e){return a.estimate("T",t,e).multiplyRight(this)},u.scale=function(t,e,n){var r,i,o;return void 0===n?(r=t.toSpace().toArray(),i=e,o=this._tr.scaleBy(i,r),new a(o)):a.estimate("S",e,n,t).multiplyBy(this)},u.rotate=function(t,e,n){var r,i,o;return void 0===n?(r=t.toSpace().toArray(),i=e,o=this._tr.rotateBy(i,r),new a(o)):a.estimate("R",e,n,t).multiplyBy(this)},u.translateScale=function(t,e){return a.estimate("TS",t,e).multiplyBy(this)},u.translateRotate=function(t,e){return a.estimate("TR",t,e).multiplyBy(this)},u.scaleRotate=function(t,e,n){return a.estimate("SR",e,n,t).multiplyBy(this)},u.translateScaleRotate=function(t,e){return a.estimate("TSR",t,e).multiplyBy(this)},a.IDENTITY=new a,a.estimate=function(t,e,n,r){var s,u,h,l;void 0!==r&&(s=r.toSpace().toArray()),o(e,"_vec")?e=[e]:o(e,"_p")&&(e=e.toArray()),o(n,"_vec")?n=[n]:o(n,"_p")&&(n=n.toArray());var c=function(t){return[t._vec.x,t._vec.y]};return u=e.map(c),h=n.map(c),l=i.estimate(t,u,h,s),new a(l)},t.exports=a},function(t,e,n){var r=n(3),i=n(6),o=function(t,e){this._p=void 0===t?new i:void 0===e?t:t.transform(e.getGlobalTransform()),this.length=this._p.length},s=o.prototype;s.add=function(t){return new o(this._p.add(t._p))},s.almostEqual=function(t){return this._p.almostEqual(t._p)},s.atMid=function(){return new r(this._p.atMid())},s.bottom=function(){return console.warn("IPath#bottom is a deprecated method."),new r(this._p.bottom())},s.equal=s.equals=function(t){return this._p.equals(t._p)},s.first=function(){return new r(this._p.first())},s.get=function(t){return new r(this._p.get(t))},s.getBounds=function(){return console.warn("IPath#getBounds is a deprecated method."),new o(this._p.getBounds())},s.getHull=function(){return new o(this._p.getHull())},s.last=function(){return new r(this._p.last())},s.left=function(){return console.warn("IPath#left is a deprecated method."),new r(this._p.left())},s.right=function(){return console.warn("IPath#right is a deprecated method."),new r(this._p.right())},s.to=function(t){if(null===t||t.isRoot())return this._p;var e=t.getGlobalTransform().inverse();return this._p.transform(e)},s.toArray=function(){return this._p.toArray().map((function(t){return new r(t)}))},s.top=function(){return console.warn("IPath#right is a deprecated method."),new r(this._p.top())},s.toSpace=function(){return this._p},s.transform=function(t){return new o(this._p.transform(t.toSpace()))},t.exports=o},function(t,e,n){var r=n(6),i=n(2),o=n(8),s=n(14),a=function(){s.call(this)},u=n(0)({},s.prototype);a.prototype=u,u.atMid=function(){return this.getHull().atMid()},u.setParent=function(){throw new Error("Space cannot have a parent.")},u.remove=function(){},u.getHull=function(){var t=this.getChildren();return t.length<1?new o(new r([new i(0,0)]),this):t.reduce((function(t,e){return t.add(e.getHull())}),new o).getHull()},t.exports=a},function(t,e,n){var r=n(3),i=n(2),o=n(19),s=n(18),a=n(8),u=n(6),h=n(14),l=function(){h.call(this),this._size=new s(1,1)},c=n(0)({},h.prototype);l.prototype=c,c.atNorm=function(t,e){if("number"!=typeof e)throw new Error("Invalid (x, y) coordinates. Numbers are required.");return new r(new i(this._size.width*t,this._size.height*e),this)},c.atMid=function(){var t=new i(this._size.width/2,this._size.height/2);return new r(t,this)},c.atMidN=function(){return new r(new i(this._size.width/2,0),this)},c.atMidW=function(){return new r(new i(0,this._size.height/2),this)},c.atMidE=function(){return new r(new i(this._size.width,this._size.height/2),this)},c.atMidS=function(){return new r(new i(this._size.width/2,this._size.height),this)},c.atNW=function(){return new r(new i(0,0),this)},c.atNE=function(){return new r(new i(this._size.width,0),this)},c.atSW=function(){return new r(new i(0,this._size.height),this)},c.atSE=function(){return new r(new i(this._size.width,this._size.height),this)},c.fitScale=function(t){var e,n,r,o,s,h=this.getHull().to(this).getBounds(),l=t.getHull().to(this).getBounds(),c=h.get(2).x-h.get(0).x,f=h.get(2).y-h.get(0).y,d=(l.get(2).x-l.get(0).x)/(l.get(2).y-l.get(0).y);return d>c/f?(e=f/2-c/d/2,r=new u([new i(h.get(0).x,h.get(0).y+e),new i(h.get(1).x,h.get(1).y-e),new i(h.get(2).x,h.get(2).y-e),new i(h.get(3).x,h.get(3).y+e)])):(n=c/2-f*d/2,r=new u([new i(h.get(0).x+n,h.get(0).y),new i(h.get(1).x+n,h.get(1).y),new i(h.get(2).x-n,h.get(2).y),new i(h.get(3).x-n,h.get(3).y)])),o=new a(r,this),s=new a(l,this),this.translateScale(o,s)},c.fitSize=function(t){var e=t.getHull().to(this).getBounds(),n=e.get(0),i=e.get(2),o=i.x-n.x,a=i.y-n.y,u=this._size;return this._size=new s(o,a),this.translate(this.atNW(),new r(n,this)),this.emit("resized",{source:this,newSize:this._size,oldSize:u}),this},c.getHull=function(){return new a(new u([new i(0,0),new i(0,this._size.height),new i(this._size.width,this._size.height),new i(this._size.width,0)]),this)},c.getSize=function(){return this._size},c.getISize=function(){return new o(this._size,this)},c.setSize=function(t,e){var n=this._size;if("object"==typeof t)this._size=t;else{if("number"!=typeof t||"number"!=typeof e)throw new Error("Invalid size parameters");this._size=new s(t,e)}return this.emit("resized",{source:this,newSize:this._size,oldSize:n}),this},c.setISize=function(t){var e=this._size;return this._size=t.to(this),this.emit("resized",{source:this,newSize:this._size,oldSize:e}),this},t.exports=l},function(t,e){var n=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};e.extend=function(t,e){var r,i={};for(r in t)n(t,r)&&(i[r]=t[r]);for(r in e)n(e,r)&&(i[r]=e[r]);return i},e.convertToTransformationType=function(t){var e=t.translate&&!t.pivot,n=t.scale,r=t.rotate;return e||n||r?(e?"T":"")+(n?"S":"")+(r?"R":""):"I"},e.clone=function(t){var e,r={};for(e in t)n(t,e)&&(r[e]=t[e]);return r},e.cardinality=function(t){var e,r=0;for(e in t)n(t,e)&&(r+=1);return r}},function(t,e,n){e.Transform=n(1),e.estimateI=n(26),e.estimateT=n(27),e.estimateS=n(28),e.estimateR=n(29),e.estimateTS=n(30),e.estimateTR=n(31),e.estimateSR=n(32),e.estimateTSR=n(33),e.version=n(34),e.create=function(t,n,r,i){"number"!=typeof t&&(t=1),"number"!=typeof n&&(n=0),"number"!=typeof r&&(r=0),"number"!=typeof i&&(i=0);var o=t*Math.cos(n),s=t*Math.sin(n);return new e.Transform(o,s,r,i)},e.createFromArray=function(t){var n=t[0],r=t[1],i=t[2],o=t[3];return new e.Transform(n,r,i,o)},e.estimate=function(t,n,r,i){var o="estimate"+t.toUpperCase();if(e.hasOwnProperty(o))return e[o](n,r,i);throw new Error("Unknown estimator type: "+t)}},function(t,e){var n=function(t,e){if("number"!=typeof t)throw new Error("a valid number is required");this._num=void 0===e?t:t*e.getGlobalTransform().getScale()},r=n.prototype;r.add=function(t){return new n(this._num+t._num)},r.equal=r.equals=function(t){return this._num===t._num},r.multiply=function(t){return new n("number"==typeof t?this._num*t:this._num*t._num)},r.subtract=function(t){return new n(this._num-t._num)},r.to=function(t){if(null===t||t.isRoot())return this._num;var e=t.getGlobalTransform().inverse().getScale();return this._num*e},r.toSpace=function(){return this._num},t.exports=n},function(t,e,n){var r=n(7),i=n(3),o=n(2),s=n(5),a=n(42),u=function(){a.call(this),this._T=s.IDENTITY,this.on("removed",(function(t){if(null===t.newParent)t.source._T=s.IDENTITY;else if(null===t.oldParent)throw new Error("Could not be removed from null parent")}))},h=n(0)({},a.prototype);u.prototype=h,h.at=function(t,e){if("object"==typeof t&&void 0===e)return new i(t,this);if("number"!=typeof t&&"number"!=typeof e)throw new Error("Invalid Vector");return new i(new o(t,e),this)},h.getGlobalTransform=function(){var t,e;for(t=s.IDENTITY,e=this;null!==e._parent;)t=e._T.multiplyRight(t),e=e._parent;return t},h.getGlobalITransform=function(){var t,e;for(t=s.IDENTITY,e=this;null!==e._parent;)t=e._T.multiplyRight(t),e=e._parent;return new r(t)},h.getLocalTransform=function(){return this._T},h.getLocalITransform=function(){return null===this._parent?r.IDENTITY:new r(this._T,this._parent)},h.resetTransform=function(){return this.setLocalTransform(s.IDENTITY)},h.setGlobalTransform=function(t){var e;return e=(null===this._parent?this._T:this._parent.getGlobalTransform()).inverse().multiplyBy(t),this.setLocalTransform(e)},h.setGlobalITransform=function(t){return this.setGlobalTransform(t.toSpace())},h.setLocalTransform=function(t){if(null===this._parent)throw new Error("Root nodes cannot be transformed.");var e=this._T;return this._T=t,this.emit("transformed",{source:this,newTransform:this._T,oldTransform:e}),this},h.setLocalITransform=function(t){var e=t.to(this._parent);return this.setLocalTransform(e)},h.snap=function(t,e){var n=e.to(this._parent).snap(t.to(this),this._T);return this.setLocalTransform(n)},h.transformBy=function(t,e){return void 0===e&&(e=this._parent),Object.prototype.hasOwnProperty.call(t,"_tr")&&(t=t.to(e)),this.setLocalTransform(t.multiplyRight(this._T))},h.translate=function(t,e){var n=r.estimate("T",t,e);return this.transformBy(n)},h.scale=function(t,e,n){var i=r.IDENTITY.scale(t,e,n);return this.transformBy(i)},h.rotate=function(t,e,n){var i=r.IDENTITY.rotate(t,e,n);return this.transformBy(i)},h.translateScale=function(t,e){var n=r.estimate("TS",t,e);return this.transformBy(n)},h.translateRotate=function(t,e){var n=r.estimate("TR",t,e);return this.transformBy(n)},h.scaleRotate=function(t,e,n){var i=r.estimate("SR",e,n,t);return this.transformBy(i)},h.translateScaleRotate=function(t,e){var n=r.estimate("TSR",t,e);return this.transformBy(n)},h.setLocal3d=function(t,e){var n=s.IDENTITY;n=n.translateBy(e.x,e.y);var r=1/Math.pow(2,e.z),i=t.to(this.getParent());n=n.scaleBy(r,i.toArray()),this.setLocalTransform(n)},t.exports=u},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r=n(4),i=n(2),o=n(6),s=n(0),a={xStep:0,yStep:0,scaleStep:0,rotateStep:0,xPhase:0,yPhase:0,scalePhase:0,rotatePhase:0,xRotation:0,yRotation:Math.PI/2},u=function(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)},h=function(t,e,n){return Math.round((t-n)/e)*e+n},l=function(t){if((t="object"!=typeof t?a:s({},a,t)).xStep<r&&t.yStep>r||t.xStep>r&&t.yStep<r)throw new Error("Grid xStep and yStep must be either both zero or both greater than zero.");if(Math.abs(t.xRotation-t.yRotation)<r)throw new Error("Grid xRotation and yRotation cannot be the same.");this.mode=t},c=l.prototype;c.almostEqual=function(t){var e,n=this.mode,i=t.mode;for(e in n)if(u(n,e)){if(!u(i,e))return!1;if(Math.abs(n[e]-i[e])>r)return!1}return!0},c.at=function(t,e){var n=this.mode;if(0===n.xStep||0===n.yStep)return new i(0,0);var r=i.createFromPolar(n.xStep,n.xRotation),o=i.createFromPolar(n.yStep,n.yRotation),s=r.multiply(n.xPhase/n.xStep),a=o.multiply(n.yPhase/n.yStep);return s.add(a).add(r.multiply(t)).add(o.multiply(e))},c.equal=c.equals=function(t){var e,n=this.mode,r=t.mode;for(e in n)if(u(n,e)){if(!u(r,e))return!1;if(n[e]!==r[e])return!1}return!0},c.getHullOf=function(t,e){var n=this.mode,r=i.createFromPolar(n.xStep,n.xRotation),s=i.createFromPolar(n.yStep,n.yRotation),a=this.getOrigin(),u=a.add(r.multiply(t)).add(s.multiply(e)),h=a.add(r.multiply(t)).add(s.multiply(e+1)),l=a.add(r.multiply(t+1)).add(s.multiply(e+1)),c=a.add(r.multiply(t+1)).add(s.multiply(e));return new o([u,h,l,c]).getHull()},c.getOrigin=function(){var t=this.mode,e=i.createFromPolar(t.xStep,t.xRotation),n=i.createFromPolar(t.yStep,t.yRotation),r=e.multiply(t.xPhase/t.xStep),o=n.multiply(t.yPhase/t.yStep);return r.add(o)},c.snap=function(t,e){var n,r,o,s,a,u,l,c,f,d,p,m,v,g=this.mode;return l=t.transform(e),0===g.xStep||0===g.yStep?f=l:(o=i.createFromPolar(g.xStep,g.xRotation),s=i.createFromPolar(g.yStep,g.yRotation),c=l.changeBasis(o,s),f=new i(h(c.x,1,g.xPhase/g.xStep),h(c.y,1,g.yPhase/g.yStep)).changeFromBasis(o,s)),n=f.x-l.x,r=f.y-l.y,d=(a=e.translateBy(n,r)).getScale(),p=(0===g.scaleStep?d:h(d,g.scaleStep,g.scalePhase))/d,m=(u=a.scaleBy(p,f.toArray())).getRotation(),v=0===g.rotateStep?m:h(m,g.rotateStep,g.rotatePhase),u.rotateBy(v-m,f.toArray())},c.toArray=function(){return[this.mode]},c.transform=function(t){var e=this.mode,n={},r=t.getScale(),o=t.getRotation();if(n.rotateStep=e.rotateStep,n.rotatePhase=e.rotatePhase+o,n.scaleStep=e.scaleStep*r,n.scalePhase=e.scalePhase*r,0===e.xStep||0===e.yStep)n.xStep=e.xStep,n.yStep=e.yStep,n.xRotation=e.xRotation,n.yRotation=e.yRotation,n.xPhase=e.xPhase,n.yPhase=e.yPhase;else{var s=i.createFromPolar(e.xStep,e.xRotation),a=i.createFromPolar(e.yStep,e.yRotation),u=t.translateBy(-t.tx,-t.ty),h=s.transform(u),c=a.transform(u);n.xStep=h.getMagnitude(),n.yStep=c.getMagnitude(),n.xRotation=h.getRotation(),n.yRotation=c.getRotation();var f=e.xPhase/e.xStep,d=e.yPhase/e.yStep,p=new i(f,d).changeFromBasis(s,a).transform(t).changeBasis(h,c),m=p.x*h.getMagnitude(),v=p.y*c.getMagnitude();n.xPhase=m,n.yPhase=v}return new l(n)},t.exports=l},function(t,e,n){"use strict";t.exports=function(t,e,n){var i=t*e,o=r*t,s=o-(o-t),a=t-s,u=r*e,h=u-(u-e),l=e-h,c=a*l-(i-s*h-a*h-s*l);if(n)return n[0]=c,n[1]=i,n;return[c,i]};var r=+(Math.pow(2,27)+1)},function(t,e,n){var r=n(4),i=function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new Error("Missing or invalid (width, height) parameters");if(t<0||e<0)throw new Error("Width and height must be zero or positive.");this.width=t,this.height=e},o=i.prototype;o.almostEqual=function(t){return Math.abs(this.width-t.width)+Math.abs(this.height-t.height)<r},o.equal=function(t){return this.width===t.width&&this.height===t.height},o.getHeight=function(){return this.height},o.getWidth=function(){return this.width},o.min=function(){return Math.min(this.width,this.height)},o.max=function(){return Math.max(this.width,this.height)},o.toArray=function(){return[this.width,this.height]},o.transform=function(t){var e=t.getScale(),n=this.width*e,r=this.height*e;return new i(n,r)},t.exports=i},function(t,e,n){var r=n(13),i=function(t,e){if(void 0===t)throw new Error("Missing Size parameter");this._size=void 0===e?t:t.transform(e.getGlobalTransform())},o=i.prototype;o.almostEqual=function(t){return this._size.equal(t._size)},o.equal=function(t){return this._size.equal(t._size)},o.getHeight=function(){return new r(this._size.height)},o.getWidth=function(){return new r(this._size.width)},o.to=function(t){if(null===t||t.isRoot())return this._size;var e=t.getGlobalTransform().inverse();return this._size.transform(e)},o.toSpace=function(){return this._size},t.exports=i},function(t,e,n){var r=n(9),i=n(14),o=n(0),s=function(t){i.call(this),"object"==typeof t&&this.setParent(t)},a=o({},i.prototype);s.prototype=a,a.atMid=r.prototype.atMid,a.getHull=r.prototype.getHull,a.copy=function(){var t=new s;return this.getChildren().forEach((function(e){var n=e.copy(),r=e.getLocalTransform();n.setParent(t),n.setLocalTransform(r)})),t},t.exports=s},function(t,e,n){var r=n(10),i=n(0),o=function(t,e){r.call(this),this.html=t,this.setSize(256,256),"object"==typeof e&&this.setParent(e)},s=i({},r.prototype);o.prototype=s,s.copy=function(){var t=new o(this.html);return t.setSize(this.getSize()),t},s.getHTML=function(){return this.html},t.exports=o},function(t,e,n){var r=n(10),i=n(0),o=function(t,e){if("object"!=typeof t)throw new Error("Invalid image");r.call(this),t instanceof HTMLImageElement?this.image=t:(this.image=new Image(t.width,t.height),this.image.src=t.src),this.setSize(t.width,t.height),"object"==typeof e&&this.setParent(e)};(o.prototype=i({},r.prototype)).copy=function(){var t=new o(this.image);return t.setSize(this.getSize()),t},o.prototype.getImage=function(){return this.image},t.exports=o},function(t,e,n){var r=n(10),i=n(0),o=function(t,e){r.call(this),this.color="string"==typeof t?t:"#000000",this.setSize(1,1),"object"==typeof e&&this.setParent(e)};(o.prototype=i({},r.prototype)).copy=function(){var t=new o(this.color);return t.setSize(this.getSize()),t},o.prototype.getColor=function(){return this.color},t.exports=o},function(t,e,n){e.geom=n(25),e.Space=n(9),e.SpaceGroup=n(20),e.SpaceHTML=n(21),e.SpaceImage=n(22),e.SpacePixel=n(23),e.SpaceView=n(44),e.Touchable=n(47),e.Wheelable=n(51),e.preload=n(53),e.version=n(54)},function(t,e,n){e.EPSILON=n(4),e.Grid=n(16),e.IGrid=n(41),e.Path=n(6),e.IPath=n(8),e.IScalar=n(13),e.Size=n(18),e.ISize=n(19),e.Transform=n(5),e.ITransform=n(7),e.Vector=n(2),e.IVector=n(3)},function(t,e,n){var r=n(1);t.exports=function(){return r.IDENTITY}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n,i,o,s,a,u;if(o=s=a=u=0,(i=Math.min(t.length,e.length))<1)return r.IDENTITY;for(n=0;n<i;n+=1)o+=t[n][0],s+=t[n][1],a+=e[n][0],u+=e[n][1];return new r(1,0,(a-o)/i,(u-s)/i)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n){var i,o,s,a,u,h,l,c,f,d,p,m;for(o=Math.min(t.length,e.length),c=f=d=p=0,void 0===n?a=u=0:(a=n[0],u=n[1]),i=0;i<o;i+=1)h=t[i][0]-a,l=t[i][1]-u,c+=h*(e[i][0]-a),f+=l*(e[i][1]-u),d+=h*h,p+=l*l;return 0===(s=d+p)?r.IDENTITY:(m=Math.max(0,(c+f)/s),new r(m,0,(1-m)*a,(1-m)*u))}},function(t,e,n){var r=n(1);t.exports=function(t,e,n){var i,o,s,a,u,h,l,c,f,d,p,m,v,g,y,w,_;for(o=Math.min(t.length,e.length),d=p=m=v=0,void 0===n?a=u=0:(a=n[0],u=n[1]),i=0;i<o;i+=1)h=t[i][0]-a,l=t[i][1]-u,d+=h*(c=e[i][0]-a),p+=h*(f=e[i][1]-u),m+=l*c,v+=l*f;return g=d+v,y=p-m,0===(s=Math.sqrt(g*g+y*y))?r.IDENTITY:new r(w=g/s,_=y/s,a-a*w+u*_,u-a*_-u*w)}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n,i,o,s,a,u,h,l,c,f,d,p,m,v=t,g=e,y=Math.min(v.length,g.length);for(u=h=l=c=f=d=p=m=0,n=0;n<y;n+=1)u+=i=v[n][0],h+=o=v[n][1],l+=s=g[n][0],c+=a=g[n][1],f+=i*i,d+=o*o,p+=i*s,m+=o*a;var w=y*y,_=u*u,x=h*h,b=f+d,E=p+m,S=w*b-y*(_+x);return S<1e-8?0===y?new r(1,0,0,0):new r(1,0,l/y-i,c/y-o):new r((w*E-y*(u*l+h*c))/S,0,(-y*u*E+y*l*b-x*l+u*h*c)/S,(-y*h*E+y*c*b-_*c+u*h*l)/S)}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n,i,o,s,a,u,h,l,c,f,d,p,m,v=t,g=e,y=Math.min(v.length,g.length);for(u=h=l=c=f=d=p=m=0,n=0;n<y;n+=1)u+=i=v[n][0],h+=o=v[n][1],l+=s=g[n][0],c+=a=g[n][1],f+=i*s,d+=i*a,p+=o*s,m+=o*a;var w=y*(d-p)-u*c+h*l,_=y*(f+m)-u*l-h*c,x=Math.sqrt(w*w+_*_);if(x<1e-8)return 0===y?new r(1,0,0,0):new r(1,0,(l-u)/y,(c-h)/y);var b=_/x,E=w/x;return new r(b,E,(-u*b+h*E+l)/y,(-u*E-h*b+c)/y)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n){var i,o,s,a,u;void 0===n&&(n=[0,0]),i=t,o=e,s=Math.min(i.length,o.length);var h,l,c,f,d,p,m,v,g,y,w,_=n[0],x=n[1];for(p=m=0,v=g=y=w=0,h=0;h<s;h+=1)p+=(l=i[h][0]-_)*l,m+=(c=i[h][1]-x)*c,v+=l*(f=o[h][0]-_),g+=c*(d=o[h][1]-x),y+=c*f,w+=l*d;var b=p+m;return Math.abs(b)<1e-8?new r(1,0,0,0):new r(a=(v+g)/b,u=(-y+w)/b,x*u-_*a+_,-_*u-x*a+x)}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n,i,o,s,a,u,h,l;if(n=t,i=e,0===(o=Math.min(n.length,i.length)))return new r(1,0,0,0);var c=0,f=0,d=0,p=0,m=0,v=0,g=0,y=0,w=0,_=0;for(s=0;s<o;s+=1)c+=a=n[s][0],f+=u=n[s][1],d+=h=i[s][0],p+=l=i[s][1],m+=a*a,v+=u*u,g+=a*l,y+=u*h,w+=a*h,_+=u*l;var x=o*m+o*v-c*c-f*f;return-1e-8<x&&x<1e-8?new r(1,0,d/o-a,p/o-u):new r((o*(w+_)-c*d-f*p)/x,(o*(g-y)+f*d-c*p)/x,(-c*(w+_)+f*(g-y)+m*d+v*d)/x,(-f*(w+_)-c*(g-y)+m*p+v*p)/x)}},function(t,e){t.exports="1.4.0"},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var o=new Array(e);for(i=0;i<e;++i)o[i]=i;o.sort((function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]}));var s=[o[0],o[1]],a=[o[0],o[1]];for(i=2;i<e;++i){for(var u=o[i],h=t[u],l=s.length;l>1&&r(t[s[l-2]],t[s[l-1]],h)<=0;)l-=1,s.pop();for(s.push(u),l=a.length;l>1&&r(t[a[l-2]],t[a[l-1]],h)>=0;)l-=1,a.pop();a.push(u)}n=new Array(a.length+s.length-2);for(var c=0,f=(i=0,s.length);i<f;++i)n[c++]=s[i];for(var d=a.length-2;d>0;--d)n[c++]=a[d];return n};var r=n(36)[3]},function(t,e,n){"use strict";var r=n(17),i=n(37),o=n(38),s=n(40);function a(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function u(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",u(t.slice(0,e)),",",u(t.slice(e)),")"].join("")}function h(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",u(h(a(t,n))),",",(r=n,1&r?"-":""),t[0][n],")"].join(""));return e;var r}function l(t){for(var e=[],n=[],l=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),c=[],f=0;f<t;++f)0==(1&f)?e.push.apply(e,h(a(l,f))):n.push.apply(n,h(a(l,f))),c.push("m"+f);var d=u(e),p=u(n),m="orientation"+t+"Exact",v=["function ",m,"(",c.join(),"){var p=",d,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join("");return new Function("sum","prod","scale","sub",v)(i,r,o,s)}var c=l(3),f=l(4),d=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var a=33306690738754716e-32*r;return s>=a||s<=-a?s:c(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],s=n[0]-r[0],a=t[1]-r[1],u=e[1]-r[1],h=n[1]-r[1],l=t[2]-r[2],c=e[2]-r[2],d=n[2]-r[2],p=o*h,m=s*u,v=s*a,g=i*h,y=i*u,w=o*a,_=l*(p-m)+c*(v-g)+d*(y-w),x=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(l)+(Math.abs(v)+Math.abs(g))*Math.abs(c)+(Math.abs(y)+Math.abs(w))*Math.abs(d));return _>x||-_>x?_:f(t,e,n,r)}];function p(t){var e=d[t.length];return e||(e=d[t.length]=l(t.length)),e.apply(void 0,t)}!function(){for(;d.length<=5;)d.push(l(d.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[p].concat(d)),r=0;r<=5;++r)t.exports[r]=d[r]}()},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);if(i)return[i,n];return[n]}(t[0],e[0]);var i,o,s=new Array(n+r),a=0,u=0,h=0,l=Math.abs,c=t[u],f=l(c),d=e[h],p=l(d);f<p?(o=c,(u+=1)<n&&(c=t[u],f=l(c))):(o=d,(h+=1)<r&&(d=e[h],p=l(d)));u<n&&f<p||h>=r?(i=c,(u+=1)<n&&(c=t[u],f=l(c))):(i=d,(h+=1)<r&&(d=e[h],p=l(d)));var m,v,g=i+o,y=g-i,w=o-y,_=w,x=g;for(;u<n&&h<r;)f<p?(i=c,(u+=1)<n&&(c=t[u],f=l(c))):(i=d,(h+=1)<r&&(d=e[h],p=l(d))),(w=(o=_)-(y=(g=i+o)-i))&&(s[a++]=w),_=x-((m=x+g)-(v=m-x))+(g-v),x=m;for(;u<n;)(w=(o=_)-(y=(g=(i=c)+o)-i))&&(s[a++]=w),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(u+=1)<n&&(c=t[u]);for(;h<r;)(w=(o=_)-(y=(g=(i=d)+o)-i))&&(s[a++]=w),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(h+=1)<r&&(d=e[h]);_&&(s[a++]=_);x&&(s[a++]=x);a||(s[a++]=0);return s.length=a,s}},function(t,e,n){"use strict";var r=n(17),i=n(39);t.exports=function(t,e){var n=t.length;if(1===n){var o=r(t[0],e);return o[0]?o:[o[1]]}var s=new Array(2*n),a=[.1,.1],u=[.1,.1],h=0;r(t[0],e,a),a[0]&&(s[h++]=a[0]);for(var l=1;l<n;++l){r(t[l],e,u);var c=a[1];i(c,u[0],a),a[0]&&(s[h++]=a[0]);var f=u[1],d=a[1],p=f+d,m=d-(p-f);a[1]=p,m&&(s[h++]=m)}a[1]&&(s[h++]=a[1]);0===h&&(s[h++]=0);return s.length=h,s}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);if(n)return n[0]=s+o,n[1]=r,n;return[s+o,r]}},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);if(i)return[i,n];return[n]}(t[0],-e[0]);var i,o,s=new Array(n+r),a=0,u=0,h=0,l=Math.abs,c=t[u],f=l(c),d=-e[h],p=l(d);f<p?(o=c,(u+=1)<n&&(c=t[u],f=l(c))):(o=d,(h+=1)<r&&(d=-e[h],p=l(d)));u<n&&f<p||h>=r?(i=c,(u+=1)<n&&(c=t[u],f=l(c))):(i=d,(h+=1)<r&&(d=-e[h],p=l(d)));var m,v,g=i+o,y=g-i,w=o-y,_=w,x=g;for(;u<n&&h<r;)f<p?(i=c,(u+=1)<n&&(c=t[u],f=l(c))):(i=d,(h+=1)<r&&(d=-e[h],p=l(d))),(w=(o=_)-(y=(g=i+o)-i))&&(s[a++]=w),_=x-((m=x+g)-(v=m-x))+(g-v),x=m;for(;u<n;)(w=(o=_)-(y=(g=(i=c)+o)-i))&&(s[a++]=w),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(u+=1)<n&&(c=t[u]);for(;h<r;)(w=(o=_)-(y=(g=(i=d)+o)-i))&&(s[a++]=w),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(h+=1)<r&&(d=-e[h]);_&&(s[a++]=_);x&&(s[a++]=x);a||(s[a++]=0);return s.length=a,s}},function(t,e,n){var r=n(3),i=n(8),o=n(7),s=n(16),a=function(t,e){void 0===t?this._grid=new s:(Object.prototype.hasOwnProperty.call(t,"mode")||(t=new s(t)),this._grid=void 0===e?t:t.transform(e.getGlobalTransform()))},u=a.prototype;u.almostEqual=function(t){return this._grid.almostEqual(t._grid)},u.at=function(t,e){return new r(this._grid.at(t,e))},u.equal=u.equals=function(t){return this._grid.equals(t._grid)},u.getHullOf=function(t,e){var n=this._grid.getHullOf(t,e);return new i(n)},u.getOrigin=function(){var t=this._grid.getOrigin();return new r(t)},u.snap=function(t,e){var n=t.toSpace().transform(e._tr.inverse());return new o(this._grid.snap(n,e._tr))},u.to=function(t){if(null===t||t.isRoot())return this._grid;var e=t.getGlobalTransform().inverse();return this._grid.transform(e)},u.toSpace=function(){return this._grid},u.transform=function(t){return new a(this._grid.transform(t._tr))},t.exports=a},function(t,e,n){var r=n(15),i=n(0),o=n(43)(0),s=function(){r.call(this),this.id=o.next().toString(),this._parent=null,this._prevSibling=null,this._nextSibling=null,this._children={},this._order=[]},a=i({},r.prototype);s.prototype=a,a.addChild=function(t,e){return t.setParent(this,e),this},a.bringAbove=function(t){if(t.isRoot())throw new Error("Cannot send after a root node.");var e=t._parent,n=e._order.indexOf(t),r=this._parent;r===e&&r._order.indexOf(this)<=n&&(n-=1),this.setParent(t._parent,n+1)},a.bringToFront=function(){if(!this.isRoot()){var t=this._parent._order.length;this.setParent(this._parent,t)}},a.getAncestors=function(){for(var t=this._parent,e=[];null!==t;)e.push(t),t=t._parent;return e},a.getChildren=function(){return this._order.slice()},a.getDescendants=function(){var t,e,n,r;for(r=[],e=this.getChildren(),t=0;t<e.length;t+=1)n=e[t],r=r.concat(n,n.getDescendants());return r},a.getFirstChild=function(){return this._order.length<1?null:this._order[0]},a.getLastChild=function(){return this._order.length<1?null:this._order[this._order.length-1]},a.getNextSibling=function(){return this._nextSibling},a.getParent=function(){return this._parent},a.getPreviousSibling=function(){return this._prevSibling},a.getRootParent=function(){return null===this._parent?this:this._parent.getRootParent()},a.hasChild=function(t){return t._parent===this},a.hasDescendant=function(t){for(var e=t._parent;null!==e&&e!==this;)e=e._parent;return null!==e},a.isRoot=function(){return null===this._parent},a.remove=function(){return this.setParent(null)},a.sendBelow=function(t){if(t.isRoot())throw new Error("Cannot bring before a root node.");var e=t._parent,n=e._order.indexOf(t),r=this._parent;r===e&&r._order.indexOf(this)<n&&(n-=1),this.setParent(t._parent,n)},a.sendToBack=function(){this.isRoot()||this.setParent(this._parent,0)},a.setParent=function(t,e){if(void 0===t)throw new Error("Parameter 'newParent' is required.");void 0===e&&null!==t&&(e=t._order.length);var n=this._parent;if(null===n)if(null===t);else{if(this===t||this.hasDescendant(t))throw new Error("Cyclic parent-child relationships are forbidden.");t._addChild(this,e),this.emit("added",{source:this,newParent:t,oldParent:null}),t.emit("childAdded",{source:t,newChild:this,oldParent:null})}else if(null===t)n._removeChild(this),this.emit("removed",{source:this,newParent:null,oldParent:n}),n.emit("childRemoved",{source:n,oldChild:this,newParent:null});else{if(this===t||this.hasDescendant(t))throw new Error("Cyclic parent-child relationships are forbidden.");n._removeChild(this),t._addChild(this,e),this.emit("removed",{source:this,newParent:t,oldParent:n}),n.emit("childRemoved",{source:n,oldChild:this,newParent:t}),this.emit("added",{source:this,newParent:t,oldParent:n}),t.emit("childAdded",{source:t,newChild:this,oldParent:n})}},a._addChild=function(t,e){var n=t,r=this._order[e-1],i=this._order[e];n._parent=this,r?(n._prevSibling=r,r._nextSibling=n):n._prevSibling=null,i?(n._nextSibling=i,i._prevSibling=n):n._nextSibling=null,this._children[n.id]=n,this._order.splice(e,0,n)},a._removeChild=function(t){var e=t,n=e._prevSibling,r=e._nextSibling;e._parent=null,e._prevSibling=null,e._nextSibling=null,n&&(n._nextSibling=r),r&&(r._prevSibling=n),delete this._children[e.id],this._order.splice(this._order.indexOf(e),1)},t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);null==t&&(t=(Math.random()-.5)*Math.pow(2,32)),this._id=0|t}t.exports=r,r.prototype.next=function(){return this._id=this._id+1|0,this._id}},function(t,e,n){var r=n(45),i=n(46),o=n(10),s=n(9),a=n(0),u=function(t){if(void 0===t&&(t=null),o.call(this),this._el=null,this._elements={},this._handlers={},this._viewHandlers={},"object"==typeof t&&null!==t){if(!(t instanceof s))throw new Error("Parent of a View must be a Space.");this.setParent(t)}},h=a({},o.prototype);u.prototype=h,h.fitScale=function(t){if(!this.isMounted())throw new Error("View is not yet mounted and thus has no proper size for fitting. Call mount() before fitScale().");return o.prototype.fitScale.call(this,t)},h.fitSize=function(){throw new Error("Use refreshSize to resize the view and fitScale to fit.")},h.getElementBySpaceItem=function(t){var e=this._elements[t.id];return e||null},h.getContainer=function(){return this._el},h.getSpaceItemByElementId=function(t){var e=document.getElementById(t);return e&&Object.prototype.hasOwnProperty.call(e,"_tapspace_node")?e._tapspace_node:null},h.isMounted=function(){return null!==this._el},h.mount=function(t){if(!t||!("tagName"in t))throw new Error("Container should be a DOM Element");if(this._el!==t){this.unmount(),this._el=t,this._el.style.position="relative",this._el.style.overflow="hidden",this._el.style.display="block",this._setSize(this._el.clientWidth,this._el.clientHeight),this._parent&&this._renderElementFor(this._parent);var e=this;this._viewHandlers={added:function(){e._renderElementFor(e._parent)},transformed:function(){var t,n,r,o;t=e._elements[e._parent.id],n=e._elements[e.id],r=e._T.inverse(),o=e._T,i(t,r),i(n,o)}},this.on("added",this._viewHandlers.added),this.on("transformed",this._viewHandlers.transformed)}};var l=h.setParent;h.setParent=function(t){if(!(t instanceof s))throw new Error("A View can only be a child of a Space");this._parent!==t&&(null!==this._parent&&this._removeElementOf(this._parent),l.call(this,t))},h.unmount=function(){this.isMounted()&&(this.off("added",this._viewHandlers.added),this.off("transformed",this._viewHandlers.transformed),this._viewHandlers={},this._parent&&this._removeElementOf(this._parent),this._el=null)},h.refreshSize=function(){if(!this.isMounted())throw new Error("Unmounted view cannot be resized.");this._setSize(this._el.clientWidth,this._el.clientHeight)},h.setSize=function(){throw new Error("Use refreshSize to resize the view.")},h.setISize=function(){throw new Error("Use refreshSize to resize the view.")},h._getViewSpecificId=function(t){return this.id+"-"+t},h._removeElementOf=function(t){var e,n,r=this,i=t;if(!this.isMounted())throw new Error("Cannot remove element when view is not mounted.");i.getChildren().forEach((function(t){r._removeElementOf(t)})),n=this._handlers[i.id],i===this||i===this._parent?i.off("childAdded",n.childAdded):(i.off("childAdded",n.childAdded),i.off("removed",n.removed),i.off("resized",n.resized),i.off("transformed",n.transformed)),delete(e=this._elements[i.id])._tapspace_node,delete this._elements[i.id],delete this._handlers[i.id],e.parentElement.removeChild(e)},h._renderElementFor=function(t){var e,n,s=this,a=t;if(!this.isMounted())throw new Error("Do not render elements before mounting the view");if(Object.prototype.hasOwnProperty.call(this._elements,a.id))throw new Error("An element should not be added twice to the same view.");(e=r(a,u)).id=this._getViewSpecificId(a.id),e._tapspace_node=a,this._elements[a.id]=e,a===this._parent?(this._el.appendChild(e),n={childAdded:function(t){t.newChild!==s&&(t.oldParent===t.source?s._reorderElementOf(t.newChild):s._renderElementFor(t.newChild))}},a.on("childAdded",n.childAdded)):(this._elements[a.getParent().id].appendChild(e),a===this?(n={childAdded:function(t){t.oldParent===t.source?s._reorderElementOf(t.newChild):s._renderElementFor(t.newChild)}},a.on("childAdded",n.childAdded)):(n={childAdded:function(t){t.oldParent===t.source?s._reorderElementOf(t.newChild):s._renderElementFor(t.newChild)},removed:function(t){t.oldParent===t.newParent||s._removeElementOf(a)},resized:function(){s._resizeElementOf(a)},transformed:function(){i(s._elements[a.id],a._T)}},a.on("childAdded",n.childAdded),a.on("removed",n.removed),a.on("resized",n.resized),a.on("transformed",n.transformed),a instanceof o&&n.resized(),n.transformed())),this._handlers[a.id]=n,a.getChildren().forEach((function(t){s._renderElementFor(t)}))},h._reorderElementOf=function(t){var e,n,r,i;e=this._elements[t.id],n=this._elements[t._parent.id],(r=t.getNextSibling())?(i=this._elements[r.id],n.insertBefore(e,i)):n.appendChild(e)},h._resizeElementOf=function(t){var e,n;n=t.getSize(),(e=this._elements[t.id]).style.width=n.width+"px",e.style.height=n.height+"px"},h._setSize=o.prototype.setSize,t.exports=u},function(t,e,n){var r=n(9),i=n(20),o=n(21),s=n(22),a=n(23);t.exports=function(t,e){var n,u,h=t;if(h instanceof s)(n=h.image.cloneNode()).className="tapspace-image";else if(h instanceof o)(n=document.createElement("div")).innerHTML=h.html,n.className="tapspace-html";else{if(!(h instanceof a)){if(h instanceof e)return(n=document.createElement("div")).className="tapspace-view",n.style.width="0px",n.style.height="0px",n.style.display="inline-block",n.style.position="absolute",n.style.transformOrigin="0 0",n;if(h instanceof i)return(n=document.createElement("div")).className="tapspace-group",n.style.width="0px",n.style.height="0px",n.style.display="inline-block",n.style.position="absolute",n.style.transformOrigin="0 0",n;if(h instanceof r)return(n=document.createElement("div")).className="tapspace-space",n.style.width="0px",n.style.height="0px",n.style.display="inline-block",n.style.position="absolute",n.style.transformOrigin="0 0",n;throw new Error("Unknown AbstractNode subtype; cannot represent")}(n=document.createElement("div")).className="tapspace-pixel",n.style.backgroundColor=h.color}return u=h.getSize(),n.style.width=u.width+"px",n.style.height=u.height+"px",n.style.display="inline-block",n.style.position="absolute",n.style.transformOrigin="0 0",n}},function(t,e){t.exports=function(t,e){var n,r,i,o,s;n=e.s.toFixed(8),r=e.r.toFixed(8),i=(-e.r).toFixed(8),o=e.tx.toFixed(8),s=e.ty.toFixed(8),t.style.transform="matrix("+n+","+r+","+i+","+n+","+o+","+s+")"}},function(t,e,n){var r=n(15),i=n(48),o=n(50),s=n(11),a=new o,u=function(t,e,n){if(r(this),null===t.getContainer())throw new Error("Touchable requires a mounted view.");if(this.view=t,this.item=e,this.targetItem=void 0===n?e:n,this.view===this.item)this.element=this.view.getContainer();else if(this.element=this.view.getElementBySpaceItem(this.item),null===this.element)throw new Error("No HTMLElement found. Ensure the item is in the same space with the view.");this.mode=u.DEFAULT_MODE,this._rec=null};u.DEFAULT_MODE={rotate:!1,scale:!1,translate:!1,tap:!1,tapMaxTravel:20,pivot:null,preventDefault:!0},u.prototype.start=function(t){a.start(this.view),this.mode=s.extend(u.DEFAULT_MODE,t),null===this._rec?this._rec=new i(this):this._rec.update(this.mode)},u.prototype.restart=function(t){return this.start(t)},u.prototype.resume=function(){null===this._rec&&this.start(this.mode)},u.prototype.stop=function(){null!==this._rec&&(this._rec.destroy(),this._rec=null,a.stop(this.view))},t.exports=u},function(t,e,n){var r=n(49),i=n(11),o=n(7),s=n(3),a=n(2),u=n(12),h=function(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)},l=function(t,e,n){if(e===n)return t;var r,i={},o=e.getGlobalTransform(),s=n.getGlobalTransform().inverse().multiplyRight(o);for(r in t)h(t,r)&&(i[r]=s.transform(t[r]));return i},c=function(t){var e,n=[];for(e in t)h(t,e)&&n.push(new s(new a(t[e][0],t[e][1])));return n},f=function(t){var e=this;this.man=t;var n=null,s=null,a={},f={};this.sensor=new r(this.man.element,{start:function(t){var r=e.man.item,i=e.man.view,o=e.man.element;n=Date.now(),s=0,a=l(t,i,r),f=function(t,e){var n,r={},i=e.getGlobalTransform();for(n in t)h(t,n)&&(r[n]=i.transform(t[n]));return r}(t,i),e.man.emit("gesturestart",{distance:0,duration:0,element:o,item:e.man.targetItem})},move:function(t,r){var c,d,p,m,v,g,y=[],w=[],_=e.man.element,x=e.man.view,b=e.man.item,E=e.man.targetItem,S=e.man.mode,T=l(r,x,b);for(c in a)h(a,c)&&h(T,c)&&(y.push(a[c]),w.push(T[c]));var P=x.getGlobalTransform();for(c in T)h(T,c)&&!h(f,c)&&(f[c]=P.transform(T[c]));for(c in d=y.length,t)h(t,c)&&h(r,c)&&(s+=Math.abs(t[c][0]-r[c][0])/d,s+=Math.abs(t[c][1]-r[c][1])/d);p=function(t,e){return t.pivot?t.pivot.to(e).toArray():!1===t.translate?e.atMid().to(e).toArray():void 0}(S,b),m=i.convertToTransformationType(S),v=u.estimate(m,y,w,p),g=new o(v,b),"function"==typeof E?(a=T,E(g)):x===E?(a=T,x.transformBy(g.inverse())):(a=function(t,e){var n,r={};for(n in t)h(t,n)&&(r[n]=e.transform(t[n]));return r}(T,v.inverse()),E.transformBy(g)),e.man.emit("gesturemove",{distance:s,duration:Date.now()-n,element:_,item:E})},end:function(t){var r=e.man.element,i=e.man.targetItem,o=e.man.mode;e.man.emit("gestureend",{distance:s,duration:Date.now()-n,element:r,item:i}),o.tap&&s<o.tapMaxTravel&&e.man.emit("tap",{distance:s,duration:Date.now()-n,element:r,item:i,points:c(f)}),a={},f={}}},this.man.mode)};f.prototype.update=function(t){this.sensor.update(t)},f.prototype.destroy=function(){this.sensor.destroy()},t.exports=f},function(t,e,n){var r=n(11);t.exports=function(t,e,n){var i={},o=n.preventDefault,s=e,a=t,u=!1,h=!1,l={},c=function(t){var e,n,i;if(!t.defaultPrevented){for(o&&t.preventDefault(),i=r.clone(l),e=t.changedTouches,n=0;n<e.length;n+=1)i[e[n].identifier]=[e[n].pageX,e[n].pageY];u||(u=!0,s.start(i)),l=i}},f=function(t){var e,n,i,a;if(!t.defaultPrevented){for(o&&t.preventDefault(),a=r.clone(l),e=t.changedTouches,n=0;n<e.length;n+=1)i=e[n].identifier,Object.prototype.hasOwnProperty.call(a,i)&&(a[i]=[e[n].pageX,e[n].pageY]);u&&s.move(l,a),l=a}},d=function(t){var e,n,i;if(!t.defaultPrevented){for(o&&t.preventDefault(),i=r.clone(l),e=t.changedTouches,n=0;n<e.length;n+=1)delete i[e[n].identifier];r.cardinality(i)<1&&(u=!1,s.end(l)),l=i}},p=function(t){var e;t.defaultPrevented||(o&&t.preventDefault(),h||(h=!0,(e=r.clone(l)).mouse=[t.pageX,t.pageY],u||(u=!0,s.start(e)),l=e))},m=function(t){var e;h&&!t.defaultPrevented&&(o&&t.preventDefault(),(e=r.clone(l)).mouse=[t.pageX,t.pageY],s.move(l,e),l=e)},v=function(t){var e;h&&!t.defaultPrevented&&(h=!1,o&&t.preventDefault(),delete(e=r.clone(l)).mouse,r.cardinality(e)<1&&(u=!1,s.end(l)),l=e)};a.addEventListener("touchstart",c,{passive:!1}),a.addEventListener("touchmove",f,{passive:!1}),a.addEventListener("touchend",d),a.addEventListener("touchcancel",d),a.addEventListener("ratstart",p),a.addEventListener("ratmove",m),a.addEventListener("ratend",v),i.touchstart=c,i.touchmove=f,i.touchend=d,i.touchcancel=d,i.ratstart=p,i.ratmove=m,i.ratend=v,this.update=function(t){o=t.preventDefault},this.destroy=function(){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&a.removeEventListener(t,i[t]);i=null}}},function(t,e){var n=function(){this.numRunning={},this.handlers={}};n.prototype.start=function(t){var e,n,r,i,o,s,a;Object.prototype.hasOwnProperty.call(this.numRunning,t.id)?this.numRunning[t.id]+=1:(this.numRunning[t.id]=1,this.handlers[t.id]=(e=t.getContainer(),n=!1,r=null,i=function(t){if(!n&&!t.defaultPrevented){n=!0,r=t.target;var e=document.createEvent("Event");e.initEvent("ratstart",!0,!0),e.target=r,e.pageX=t.pageX,e.pageY=t.pageY,!r.dispatchEvent(e)&&t.preventDefault()}},o=function(t){if(n&&!t.defaultPrevented){var e=document.createEvent("Event");e.initEvent("ratmove",!0,!0),e.target=r,e.pageX=t.pageX,e.pageY=t.pageY,!r.dispatchEvent(e)&&t.preventDefault()}},s=function(t){if(n&&!t.defaultPrevented){n=!1;var e=document.createEvent("Event");e.initEvent("ratend",!0,!0),e.target=r,e.pageX=t.pageX,e.pageY=t.pageY,!r.dispatchEvent(e)&&t.preventDefault(),r=null}},a=function(t){t.stopPropagation()},e.addEventListener("mousedown",i),e.addEventListener("mousemove",o),e.addEventListener("mouseup",s),e.addEventListener("mouseleave",s),e.addEventListener("ratstart",a),e.addEventListener("ratmove",a),e.addEventListener("ratend",a),{container:e,mousedown:i,mousemove:o,mouseup:s,mouseleave:s,ratstart:a,ratmove:a,ratend:a}))},n.prototype.stop=function(t){if(!Object.prototype.hasOwnProperty.call(this.numRunning,t.id))throw new Error("Stop called before start.");var e,n,r;this.numRunning[t.id]-=1,this.numRunning[t.id]<1&&(e=this.handlers[t.id],(r=(n=e).container).removeEventListener("mousedown",n.mousedown),r.removeEventListener("mousemove",n.mousemove),r.removeEventListener("mouseup",n.mouseup),r.removeEventListener("mouseleave",n.mouseleave),r.removeEventListener("ratstart",n.ratstart),r.removeEventListener("ratmove",n.ratmove),r.removeEventListener("ratend",n.ratend),delete this.numRunning[t.id],delete this.handlers[t.id])},t.exports=n},function(t,e,n){var r=n(15),i=n(52),o=n(11),s=function(t,e,n){if(r(this),null===t.getContainer())throw new Error("Wheelable requires a mounted view.");if(this.view=t,this.sourceItem=e,this.targetItem=void 0===n?e:n,this.view===this.sourceItem)this.element=this.view.getContainer();else if(this.element=this.view.getElementBySpaceItem(this.sourceItem),null===this.element)throw new Error("No HTMLElement found. Ensure the item is in the same space with the view.");this.mode=s.DEFAULT_MODE,this._rec=null};s.DEFAULT_MODE={rotate:!1,scale:!1,translate:!1,endInterval:200},s.prototype.start=function(t){var e,n,r;this.mode=o.extend(s.DEFAULT_MODE,t),null===this._rec?(e=this.element,n=this.targetItem,r=this.view,this._rec=new i(e,n,r,this,this.mode)):this._rec.update(this.mode)},s.prototype.restart=function(t){return this.start(t)},s.prototype.resume=function(){null===this._rec&&this.start(this.mode)},s.prototype.stop=function(){null!==this._rec&&(this._rec.destroy(),this._rec=null)},t.exports=s},function(t,e,n){var r=n(5),i=n(7),o=n(2),s=n(3),a=function(t,e,n,a,u){var h=this;this.element=t,this.target=e,this.view=n,this.mode=u,this.emitter=a,this.started=!1,this.lastWheelTimeout=null;var l=function(t){var e,n,a,l,c,f,d,p,m;t.preventDefault(),l=t.pageX,c=t.pageY,f=t.deltaX,d=t.deltaY,p=t.deltaZ,n=i.IDENTITY,h.mode.translate?h.mode.scale?(a=new s(new o(l,c),h.view),n=n.scale(a,1+d/1e3).translate(h.view.at(0,0),h.view.at(f,0))):(e=new r(1,0,f,d),n=new i(e,h.view)):h.mode.scale&&(a=new s(new o(l,c),h.view),n=n.scale(a,1+d/1e3)),h.mode.rotate&&(a=new s(new o(l,c),h.view),n=n.rotate(a,p/1e3)),h.view===h.target?h.view.transformBy(n):"function"==typeof h.target?h.target(n.inverse()):h.target.transformBy(n.inverse()),m={element:h.element,item:h.target,originalEvent:t},h.started||h.emitter.emit("gesturestart",m),h.emitter.emit("gesturemove",m),h.emitter.emit("wheel",m),clearTimeout(h.lastWheelTimeout),h.lastWheelTimeout=setTimeout((function(){h.started=!1,h.lastWheelTimeout=null,h.emitter.emit("gestureend",m)}),u.endInterval)};this.element.addEventListener("wheel",l,{passive:!1}),this.listener=l};a.prototype.update=function(t){this.mode=t},a.prototype.destroy=function(){this.element.removeEventListener("wheel",this.listener)},t.exports=a},function(t,e){t.exports=function(t,e){var n,r,o,s,a,u,h,l;if("function"!=typeof e)throw new Error("callback should be a function: "+e);for("string"==typeof t?(n=1,r=!0,t=[t]):(n=t.length,r=!1),o=!1,s=!1,a=[],u=0,h=function(){s||(u+=1)===n&&(o=!0,e(null,r?a[0]:a))},l=function(t){return o||(s=!0,e(t,null)),!0},i=0;i<t.length;i+=1)a.push(new Image),a[i].onload=h,a[i].onabort=l,a[i].onerror=l,a[i].src=t[i]}},function(t,e){t.exports="1.6.0"}])}));
//# sourceMappingURL=tapspace.min.js.map